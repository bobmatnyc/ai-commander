---
actual_hours: null
assignees: []
created_at: '2026-02-06T10:54:25.921692'
dependencies: []
description: "## Summary\n\nModify the TUI's `send_message()` function to route messages\
  \ through AgentOrchestrator instead of directly to the adapter.\n\n## Current State\n\
  \nTUI sends messages directly to the AI adapter, bypassing any orchestration logic.\n\
  \n## Target State\n\nMessages are routed through AgentOrchestrator with fallback\
  \ to direct adapter communication if orchestration fails.\n\n## Implementation\n\
  \n1. Modify `send_message()` in TUI\n2. Check if orchestrator is available\n3. Route\
  \ message through orchestrator\n4. Fall back to direct adapter if orchestrator unavailable\
  \ or fails\n5. Handle orchestrator responses appropriately in TUI\n\n## Fallback\
  \ Strategy\n\n```rust\nasync fn send_message(&mut self, message: &str) {\n    if\
  \ let Some(orchestrator) = &self.orchestrator {\n        match orchestrator.process(message).await\
  \ {\n            Ok(response) => return self.display_response(response),\n     \
  \       Err(_) => { /* fall through to direct send */ }\n        }\n    }\n    //\
  \ Direct adapter fallback\n    self.adapter.send(message).await\n}\n```\n\n## Effort\n\
  \nMedium effort\n\n## Acceptance Criteria\n\n- [ ] Messages are routed through orchestrator\
  \ when available\n- [ ] Fallback to direct adapter works correctly\n- [ ] UI remains\
  \ responsive during orchestration\n- [ ] Error states are handled gracefully"
due_date: null
estimated_hours: null
id: ISS-0016
labels: []
metadata:
  issue_type: enhancement
  severity: medium
  type: issue
parent: EP-0004
priority: medium
status: open
tags:
- issue
- enhancement
- enhancement
- tui
title: Route TUI messages through orchestrator
updated_at: '2026-02-06T10:54:25.921692'
---

# Route TUI messages through orchestrator

## Description
## Summary

Modify the TUI's `send_message()` function to route messages through AgentOrchestrator instead of directly to the adapter.

## Current State

TUI sends messages directly to the AI adapter, bypassing any orchestration logic.

## Target State

Messages are routed through AgentOrchestrator with fallback to direct adapter communication if orchestration fails.

## Implementation

1. Modify `send_message()` in TUI
2. Check if orchestrator is available
3. Route message through orchestrator
4. Fall back to direct adapter if orchestrator unavailable or fails
5. Handle orchestrator responses appropriately in TUI

## Fallback Strategy

```rust
async fn send_message(&mut self, message: &str) {
    if let Some(orchestrator) = &self.orchestrator {
        match orchestrator.process(message).await {
            Ok(response) => return self.display_response(response),
            Err(_) => { /* fall through to direct send */ }
        }
    }
    // Direct adapter fallback
    self.adapter.send(message).await
}
```

## Effort

Medium effort

## Acceptance Criteria

- [ ] Messages are routed through orchestrator when available
- [ ] Fallback to direct adapter works correctly
- [ ] UI remains responsive during orchestration
- [ ] Error states are handled gracefully

## Details
- **Status**: open
- **Priority**: medium
- **Assignees**: None
- **Tags**: issue, enhancement, enhancement, tui
- **Created**: 2026-02-06 10:54:25
- **Updated**: 2026-02-06 10:54:25

## Tasks
- [ ] Add task items here

## Notes
_Add any additional notes or context here._
